<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Bootstrap demo</title>
        <link rel="preload" as="image" href="https://alpha-editions.github.io/GAM-custom-creatives/prestitials/provocateur.gr/bg-bottle.webp">
    </head>
    <body>
        <link rel="preload" as="image" href="https://alpha-editions.github.io/GAM-custom-creatives/prestitials/provocateur.gr/bg-bottle.webp">
        <script>
            const quotes = [
                [
                    'IT\'S YOUR STORY',
                    'BE THE ONE HOLDING THE PEN'
                ],
                [
                    'MAKE YOUR OWN LABELS',
                    'PEEL OFF THE REST'
                ],
                [
                    'GOOD TIMES ARE RARE',
                    'TREAT THEM ACCORDINGLY'
                ],
                [
                    'DANCE',
                    'LIKE EVERYBODY\'S WATCHING'
                ],
                [
                    'THERE\'S NO PRESENT',
                    'LIKE THE PRESENT'
                ],
                [
                    'THERE ARE LABELS WE\'RE GIVEN',
                    'AND THOSE WE MAKE OURSELVES'
                ],
                [
                    'AS FAR AS WE KNOW,',
                    'TODAY ONLY HAPPENS ONCE'
                ]
            ];

            const rebootCSS = document.createElement('link');
            rebootCSS.rel = 'stylesheet';
            rebootCSS.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap-reboot.min.css';

            const animateCSS = document.createElement('link');
            animateCSS.rel = 'stylesheet';
            animateCSS.href = 'https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css';

            const screenDiagonal = calculateScreenDiagonal();

            const animateExpand = document.createElement('style');
            animateExpand.innerText = '@-webkit-keyframes expand{from{transform:scale(1)}to{transform:scale(' + screenDiagonal + ')}}@keyframes expand{from{transform:scale(1)}to{transform:scale(' + screenDiagonal + ')}}.animate__expand{-webkit-animation-name:expand;animation-name:expand}';

            const customFont = document.createElement('style');
            customFont.innerText = '@font-face{font-family:jdfont;src:url("https://alpha-editions.github.io/GAM-custom-creatives/prestitials/provocateur.gr/jdfont.otf")}';

            const overlay = document.createElement('div');
            overlay.style.display = 'flex';
            overlay.style.justifyContent = 'center';
            overlay.style.alignItems = 'center';
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = window.parent.parent.innerWidth + 'px';
            overlay.style.height = window.parent.parent.innerHeight + 'px';
            overlay.style.zIndex = '99999';

            const prestitial = document.createElement('div');
            prestitial.classList.add('animate__animated', 'animate__expand');
            prestitial.style.backgroundColor = '#040404';
            prestitial.style.width = '1px';
            prestitial.style.height = '1px';
            prestitial.style.borderRadius = '50%';
            prestitial.style.animationDuration = '2s';

            const prestitialContent = document.createElement('div');
            prestitialContent.style.position = 'absolute';
            prestitialContent.style.top = '0';
            prestitialContent.style.left = '0';
            prestitialContent.style.width = '100%';
            prestitialContent.style.height = '100%';
            prestitialContent.style.textAlign = 'center';

            const bgImg = document.createElement('img');
            bgImg.src = 'https://alpha-editions.github.io/GAM-custom-creatives/prestitials/provocateur.gr/bg-bottle.webp';
            bgImg.style.position = 'absolute';
            bgImg.style.top = '0';
            bgImg.style.right = '0';
            bgImg.style.height = 'calc(100% - 37.19px)';
            bgImg.classList.add('animate__animated', 'animate__fadeInRight');

            const closeButton = document.createElement('button');
            closeButton.style.width = '40px';
            closeButton.style.height = '40px';
            closeButton.style.border = '2px solid #000000';
            closeButton.style.borderRadius = '50%';
            closeButton.style.background = "transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat";
            closeButton.style.filter = 'invert(1)';
            closeButton.style.position = 'absolute';
            closeButton.style.top = '1rem';
            closeButton.style.right = '1rem';
            closeButton.onclick = function() {overlay.remove()};

            const logo = document.createElement('img');
            logo.src = 'https://alpha-editions.github.io/GAM-custom-creatives/prestitials/provocateur.gr/logo.webp';
            logo.alt = 'Jack Daniel\'s Old No.7 Brand';
            logo.lang = 'en';
            logo.style.display = 'block';
            logo.style.width = '100px';
            logo.style.height = 'auto';
            logo.style.margin = '0 auto 1rem auto';
            logo.classList.add('animate__animated', 'animate__fadeIn', 'animate__delay-3s');

            const quote1 = document.createElement('span');
            quote1.style.display = 'block';
            quote1.style.fontWeight = '700';
            quote1.style.color = 'white';
            quote1.style.fontFamily = 'jdfont';
            quote1.style.fontSize = '6vw';
            quote1.innerText = getTodaysScheduledQuote(0);
            quote1.classList.add('animate__animated', 'animate__fadeIn', 'animate__delay-1s');
            
            const quote2 = document.createElement('span');
            quote2.style.display = 'block';
            quote2.style.fontWeight = '700';
            quote2.style.color = 'white';
            quote2.style.marginBottom = '3rem';
            quote2.style.fontFamily = 'jdfont';
            quote2.style.fontSize = '6vw';
            quote2.innerText = getTodaysScheduledQuote(1);
            quote2.classList.add('animate__animated', 'animate__fadeIn', 'animate__delay-2s');

            const content = document.createElement('div');
            content.style.position = 'absolute';
            content.style.padding = '0 1rem';

            const cta = document.createElement('button');
            cta.classList.add('btn', 'animate__animated', 'animate__fadeIn', 'animate__delay-4s');
            cta.innerText = 'Ανακαλύψτε το';
            cta.style.border = 'none'
            cta.style.color = 'black';
            cta.style.backgroundColor = 'white';
            cta.style.padding = '.5rem 1rem';
            cta.style.borderRadius = '50rem';

            const footer = document.createElement('div');
            footer.style.position = 'absolute';
            footer.style.bottom = '0';
            footer.style.left = '0';
            footer.style.width = '100%';
            footer.style.fontSize = '.8rem';
            footer.innerHTML = '<span style="display: block; border-bottom: 2px solid white; padding: .5rem 1rem; color: gray; text-align: left;">&copy;2022 Jack Daniel\'s</span></div><div style="padding: .5rem 1rem;font-weight: 700; display: flex;"> <a href="https://www.apolafste.ypefthina.gr/" style="color: white !important; flex: 1 0 0%; text-align: left;">www.apolafste.ypefthina.gr</a> <span style="color: white; flex: 1 0 0%; text-align: right;">Απολαύστε υπεύθυνα</span> </div>';

            if (window.parent.matchMedia('(max-width: 1200px)').matches) {
                content.style.width = 'calc(100% - 170px)';
                content.style.bottom = '80px';
                logo.style.width = '100px';
            }
            else {
                content.style.top = '50%';
                content.style.transform = 'translateY(-50%)';
                content.style.width = 'calc(100% - 483px)';
                logo.style.width = '170px';
            }

            const head = document.querySelector('head');
            head.appendChild(rebootCSS);
            head.appendChild(animateCSS);
            head.appendChild(animateExpand);
            head.appendChild(customFont);
            window.parent.document.body.appendChild(overlay);
            overlay.appendChild(prestitial);
            prestitial.addEventListener('animationend', function() {
                overlay.appendChild(prestitialContent);
                prestitialContent.appendChild(bgImg);
                prestitialContent.appendChild(closeButton);
                prestitialContent.appendChild(footer);
                prestitialContent.appendChild(content);
                content.appendChild(quote1);
                content.appendChild(quote2);
                content.appendChild(logo);
                content.appendChild(cta);
            });

            setTimeout(function() {overlay.remove()}, 15000);

            function calculateScreenDiagonal() {
                return Math.ceil(Math.hypot(window.parent.innerWidth, window.parent.innerHeight));
            }

            function getTodaysScheduledQuote(part) {
                return quotes[((new Date()).getDay() - 1) % 7][part];
            };
        </script>
    </body>
</html>